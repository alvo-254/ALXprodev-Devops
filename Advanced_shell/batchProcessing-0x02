#!/bin/bash
# Task 2 - Fetch multiple Pokémon data and save to separate JSON files

pokemons=("bulbasaur" "ivysaur" "venusaur" "charmander" "charmeleon")
api_base="https://pokeapi.co/api/v2/pokemon"
output_dir="pokemon_data"
error_file="errors.txt"

mkdir -p "$output_dir"

for pokemon in "${pokemons[@]}"; do
    echo "Fetching data for $pokemon..."
    curl -s "$api_base/$pokemon" -o "$output_dir/${pokemon}.json"
    if [ $? -eq 0 ] && [ -s "$output_dir/${pokemon}.json" ]; then
        echo "Saved data to $output_dir/${pokemon}.json ✅"
    else
        echo "Failed to fetch $pokemon" >> "$error_file"
    fi
    sleep 1  # prevent hitting rate limits
done
